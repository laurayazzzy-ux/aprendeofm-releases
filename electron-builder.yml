appId: com.aura.app
productName: Aura
copyright: Copyright Â© 2025 Aura

asar: true
asarUnpack:
  - "**/*.node"

# Use build/ directory (contains obfuscated + bytecode-compiled files)
directories:
  output: release
  buildResources: build-resources
  app: build

# afterPack hook applies asarmor ASAR protection
afterPack: ./scripts/afterPack.js

files:
  - src-electron/**/*
  - app/**/*
  - package.json

# Auto-update: GitHub Releases (gratuito y fiable)
# Para usar: crea un repo en GitHub y configura GH_TOKEN como variable de entorno
# Ejemplo: set GH_TOKEN=ghp_xxxx && npm run release:win
publish:
  - provider: github
    owner: laurayazzzy-ux
    repo: aprendeofm-releases
    releaseType: release

win:
  target:
    - target: nsis
      arch:
        - x64
  icon: app/assets/icon.png
  artifactName: Aura-Setup-${version}.${ext}
  signingHashAlgorithms:
    - sha256

mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: app/assets/icon.png
  category: public.app-category.business
  artifactName: Aura-${version}.${ext}

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Aura
  runAfterFinish: true

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications
